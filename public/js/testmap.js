var request = require('request');
var consumer_key = "9809ced65feee46c5449d5a8ee5ea31b";


// http://api.soundcloud.com/resolve?url=' + url + '&format=json&consumer_key=' + consumer_key + '&callback=?'


var $dataModel = [
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-1",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:001,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-2",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:002,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-4-1",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:003,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-4",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:001,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-5",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:004,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-5-1",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:002,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-7",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:005,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-8",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:"",
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-9",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:006,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-10-1",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:002,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-11",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:007,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-12",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:003,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-13",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:008,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-14",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:005,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-15",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:001,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-16",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:009,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-17",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:010,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-18",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:011,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-19",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:012,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-20",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:013,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-21",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:014,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-22",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:015,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-23",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:"",
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-24",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:016,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-25",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:003,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-26",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:002,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-27",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:008,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-28",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:007,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-29",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:013,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-30",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:005,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  },
  {
    playlist_url:"https://soundcloud.com/that-never-fading-smile/sets/vol-31",
    ft_artist:{
      title:"",
      text:"",
      ext_link:"",
      img:""
    },
    quote:{
      text:"",
      author:""
    },
    contributor:018,
    good_read:{
      title:"",
      text:"",
      author:"",
      ext_link:""
    }
  }
];

// console.log($dataModel.length)

$dataModel.map( (v, k) => {
  // setTimeout(function(){
  // var v = $dataModel[0]

  request('http://api.soundcloud.com/resolve?url=' + v.playlist_url + '&format=json&consumer_key=' + consumer_key, function (error, response, body) {
      if (!error && response.statusCode == 200) {
        var $dd = JSON.parse(body);
        v.artwork_url = $dd.artwork_url.replace('-large', '-t500x500')
        v.volume_number = parseInt($dd.title.replace('Vol. ', ''))
        console.log(v)
      }
    })
// }, 3000)
})


